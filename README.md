# シフトマネージャー

飲食店向けシフト管理ツールです。
Google Apps Script（GAS）と HTMLファイル1つで動作します。インストール不要。

---

## 機能

- スタッフ名簿の管理
- スタッフがLINEのURLからシフト希望を入力・送信
- 管理者がシフト希望を確認・確定
- 前半（1〜15日）・後半（16〜末日）に分けて管理
- 月の予算・必要人数・営業時間から人時生産性を自動計算
- Excelエクスポート対応
- 定休日・曜日別営業時間の設定

---

## セットアップ手順

### ① Googleスプレッドシートを作成する

1. [Google スプレッドシート](https://sheets.google.com) を開く
2. 新しいスプレッドシートを作成する
3. URLの `/d/〇〇〇/` の部分（スプレッドシートID）をメモしておく

---

### ② Google Apps Script を設定する

1. スプレッドシートを開いた状態で、メニューから **「拡張機能」→「Apps Script」** を選択
2. 「コード.gs」の内容を `コード.gs` ファイルからコピーして貼り付ける
3. 7行目の `SPREADSHEET_ID` を自分のスプレッドシートIDに書き換える

```javascript
const SPREADSHEET_ID = 'ここにスプレッドシートIDを入力';
```

4. 左側の「＋」からHTMLファイルを追加し、ファイル名を `フォーム` にする
5. `フォーム.html` の内容をコピーして貼り付ける
6. 保存（Ctrl+S）する

---

### ③ GASをウェブアプリとしてデプロイする

1. 右上の **「デプロイ」→「新しいデプロイ」** をクリック
2. 種類：**ウェブアプリ**
3. 次のユーザーとして実行：**自分**
4. アクセスできるユーザー：**全員**
5. 「デプロイ」をクリック
6. 表示された **ウェブアプリURL** をコピーしてメモしておく

---

### ④ shift_manager.html を設定する

1. `shift_manager.html` をテキストエディタで開く
2. 以下の部分を探して、③でコピーしたURLに書き換える

```javascript
const FORM_BASE_URL = 'ここにあなたのGASウェブアプリURLを入力してください';
```

3. ファイルを保存する
4. ブラウザで `shift_manager.html` を開けば完成！

---

## 使い方

### 管理者（店長）

1. `shift_manager.html` をブラウザで開く
2. 「スタッフ名簿」タブでスタッフを登録
3. 「シフト管理ダッシュボード」タブで対象月を選択
4. 「📋 前半URLをコピー」「📋 後半URLをコピー」でURLをコピーしてLINEでスタッフに送る
5. スタッフが入力したシフト希望を「☁️ GASからデータを読み込む」で取り込む
6. カレンダーでシフトを確認・確定する

### スタッフ

1. 管理者から送られたURLをLINEで受け取る
2. URLを開いて名前を選択
3. 希望シフトを入力して送信する

---

## 注意事項

- データはブラウザの `localStorage` に保存されます。ブラウザのデータを消去するとデータが消えます
- 複数のPCで使う場合はGASからデータを読み込んで同期してください
- スタッフのシフト希望はGoogleスプレッドシートに保存されます

---

## ファイル構成

```
shift_manager.html   管理者用ダッシュボード（ブラウザで開く）
コード.gs            Google Apps Script（サーバー側の処理）
フォーム.html        スタッフ用シフト希望フォーム（GASがホスト）
```

---

## サポート

ご不明な点はお気軽にお問い合わせください。
